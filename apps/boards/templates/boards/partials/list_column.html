<div class="list-column" id="list-{{ list.id }}">
    <div class="card list-card h-100">
        <div class="card-header d-flex justify-content-between align-items-center">
            {# ❗❗❗ تایتل لیست را به یک دکمه تبدیل می‌کنیم تا قابل کلیک باشد #}
            <button class="btn btn-link text-dark text-decoration-none p-0"
                    hx-get="{% url 'boards:update_list' board_id=board.id list_id=list.id %}"
                    hx-target="#generic-modal-body"
                    data-bs-toggle="modal"
                    data-bs-target="#genericModal">
                <h6 class="mb-0">{{ list.title }}</h6>
            </button>
            <div class="dropdown">
                {# ... منوی دراپ‌داون (بدون تغییر) ... #}
            </div>
        </div>
        
        {# ❗❗❗ کلاس و data-attribute جدید به کانتینر کارت‌ها اضافه می‌شود #}
        <div class="card-body p-2 cards-sortable-container" 
             id="cards-container-{{ list.id }}"
             data-list-id="{{ list.id }}">
            
            {% for card in list.prefetched_cards %}
                {% include "boards/partials/card_item.html" with card=card list=list board=board %}
            {% empty %}
                <div class="text-center text-muted p-3">No cards yet.</div>
            {% endfor %}
        </div>
        
        <div class="card-footer p-2">
            <button class="btn btn-outline-primary btn-sm w-100" @click="addCardToList({{ list.id }}, {{ board.id }})">
                + Add Card
            </button>
        </div>
    </div>
</div>
